# ARENA V1.0 - Environment Variables
# Copy this file to .env.local and fill in your actual values

# ============================================================================
# DATABASE CONFIGURATION (Supabase PostgreSQL)
# ============================================================================

# Option 1: SESSION POOLER (Recommended for serverless/Vercel)
# Use this for production deployments on Vercel or other serverless platforms
# Format: postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-1-us-east-1.pooler.supabase.com:5432/postgres
# DATABASE_URL="postgresql://postgres.your-project-ref:your-password@aws-1-us-east-1.pooler.supabase.com:5432/postgres"

# Option 2: DIRECT CONNECTION (Recommended for local development)
# Use this for local development to avoid connection pooling issues
# Format: postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-1-us-east-1.connect.supabase.com:5432/postgres
# Add connection pool settings for better performance
DATABASE_URL="postgresql://postgres.your-project-ref:your-password@aws-1-us-east-1.connect.supabase.com:5432/postgres?pgbouncer=true&connection_limit=10&pool_timeout=30"

# Note:
# - Replace 'your-project-ref' with your Supabase project reference
# - Replace 'your-password' with your database password
# - Replace 'aws-1-us-east-1' with your Supabase region if different
# - For Vercel deployments, use the SESSION POOLER option
# - For local development, use the DIRECT CONNECTION option

# Connection pool parameters:
# - connection_limit: Maximum number of connections (default: 10)
# - pool_timeout: Connection timeout in seconds (default: 30)
# - pgbouncer: Enable connection pooling (recommended)

# ============================================================================
# SUPABASE AUTHENTICATION
# ============================================================================

# Supabase Project URL
# Find this in: Supabase Dashboard > Settings > API
NEXT_PUBLIC_SUPABASE_URL="https://your-project-ref.supabase.co"

# Supabase Anonymous Key (safe to expose in client)
# Find this in: Supabase Dashboard > Settings > API > Project API keys > anon public
NEXT_PUBLIC_SUPABASE_ANON_KEY="your-anon-key"

# Supabase Service Role Key (NEVER expose in client, server-side only)
# Find this in: Supabase Dashboard > Settings > API > Project API keys > service_role
# REQUIRED for image uploads to Supabase Storage
SUPABASE_SERVICE_ROLE_KEY="your-service-role-key"

# ============================================================================
# GOOGLE MAPS API (Legacy - Being phased out)
# ============================================================================

# Google Maps API Key for map rendering
# Get your key from: https://console.cloud.google.com/google/maps-apis
# Required APIs: Maps JavaScript API, Places API
# NOTE: This is being replaced by Mapbox GL JS (see below)
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY="your-google-maps-api-key"

# ============================================================================
# MAPBOX GL JS API (New)
# ============================================================================

# Mapbox Access Token for map rendering
# Get your token from: https://account.mapbox.com/access-tokens/
# Free tier: 50,000 map loads/month
# Required for: Main map, Sandbox editor, Proposal previews
#
# To create a token:
# 1. Sign up at https://account.mapbox.com/
# 2. Go to Access Tokens page
# 3. Create a new token with 'Public scopes' checked
# 4. Copy the token (starts with 'pk.')
NEXT_PUBLIC_MAPBOX_TOKEN="your-mapbox-access-token"

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================

# Node environment
NODE_ENV="development"

# Next.js URL (for callbacks and redirects)
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# ============================================================================
# TROUBLESHOOTING
# ============================================================================

# If you're experiencing database timeout issues:
# 1. Verify your DATABASE_URL is correct
# 2. For local development, try the DIRECT CONNECTION instead of SESSION POOLER
# 3. Check your Supabase project is active and not paused
# 4. Verify your IP is allowed in Supabase network restrictions
# 5. Test connection with: npm run db:studio

# If running on a different port (e.g., 3010):
# Update NEXT_PUBLIC_APP_URL accordingly
# NEXT_PUBLIC_APP_URL="http://localhost:3010"
